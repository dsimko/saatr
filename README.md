# SAATR 

Open source tool for Storing And Analyzing Tests Results.


## Description

It is intended to be part of a CI. Typical scenario is: On the end of a CI job the SAATR Uploader or a simple bash script e.g.:
 
```sh
#!/bin/bash
echo "--------------UPLOAD-TESTS-RESULTS-TO-SAATR---------------"
find . -path \*target/surefire-reports/TEST-*.xml | zip testsuite -@
curl \
  -F "jobName=job_name" \
  -F "buildNumber=$(( ( RANDOM % 10 )  + 1 ))" \
  -F "testsuite=@testsuite.zip" \
  http://saatr.mycompany.com/UploadServlet
```

collects all tests results (generated by the Surefire Plugin) and uploads them to the SAATR. Then you can browse and enrich these data thru web UI. For example you can search for failed tests and add info about cause. It is possible to add data to the individual tests, tescase, testsute or a whole build. Format for newly added data is defined by templates (for better analyzing later). Templates are fully maintainable thru web UI. Example of a template: 

```xml
<config>
	<properties>
		<property name="spentTimeOnInvestigation"/>
		<property name="investigationProtocol"/>
		<property name="issueType">
			<options>
				<option>environmental</option>
				<option>db</option>
				<option>testcase</option>
				<option>product</option>
				<option>other</option>
			</options>
		</property>
		<property name="solution"/>
	</properties>
</config>
```

All data are stored in MongoDB. Analyzing part of the tool has not been implemented yet but it is possible to use any MongoDB client for querying data. For example https://github.com/rsercano/mongoclient is in docker hub so it is quite simple to use it:

```docker pull mongoclient/mongoclient```    
```docker run -d -p 3000:3000 mongoclient/mongoclient``` 

### Modules
	|-- saatr-parent
	    |-- saatr
	    `-- saatr-uploader
	
- saatr: the core project, includes the web application and all business logic;
- saatr-uploader: not implemented yet;

# Run the application

If you want to run this application without deploying, run the Start class. But before that you should start MongoDB and adjust these properties files:

 - saatr-parent/saatr/src/main/resources/application.properties
