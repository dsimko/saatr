# SAATR 

Open source tool for Storing And Analyzing Tests Results which could be helpful for answering this kind of questions:

 - What is our most failing test suite, test case, test method, database, environment, etc?
 - When and where did this test fail appear?
 - Which tests fail due to this exception?
 - How much time did we spend by investigation on this certain test issue? And how did we solved it?

## Description

It is intended to be part of your Continuous integration (CI) environment. Typically in the end of a CI job the SAATR Uploader or a [simple bash script](https://github.com/dsimko/saatr/tree/master/saatr-uploader/scripts/post-build.sh) collects all tests results (generated by the [Surefire Plugin](http://maven.apache.org/surefire/maven-surefire-plugin)) and uploads them to the SAATR. Then you can browse and enrich these data through web UI. For example you can search for failed tests and add info about a cause. It is possible to add data to the individual test, tescase, testsute or a whole build. Format for newly added data is defined by templates (for better analyzing later). Templates are fully maintainable through web UI. Example of a template: 

```xml
<config>
	<properties>
		<property name="spentTimeOnInvestigation"/>
		<property name="investigationProtocol"/>
		<property name="issueType">
			<options>
				<option>environmental</option>
				<option>db</option>
				<option>testcase</option>
				<option>product</option>
				<option>other</option>
			</options>
		</property>
		<property name="solution"/>
	</properties>
</config>
```

All data are stored in MongoDB. Analyzing part of the tool has not been implemented yet but it is possible to use any MongoDB client for querying data. For example [mongoclient](https://github.com/rsercano/mongoclient) is in docker hub so it is quite simple to use it:

```docker pull mongoclient/mongoclient```    
```docker run -d -p 3000:3000 mongoclient/mongoclient``` 

### Modules
	|-- saatr-parent
	    |-- saatr
	    `-- saatr-uploader
	
- saatr: the core project, includes the web application and all business logic;
- saatr-uploader: not implemented yet;

# Run the application

If you want to run this application without deploying, run the Start class. But before that you should start MongoDB and adjust these properties files:

 - saatr-parent/saatr/src/main/resources/application.properties

## Run in Docker

```sh
sh build_and_run_in_docker.sh
```